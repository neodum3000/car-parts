<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–∏—Å–∫ –∞–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–µ–π</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        body {
            padding: 20px;
            background: #f0f2f5;
        }

        .filters {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        select, input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .parts-list {
            display: grid;
            gap: 15px;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            margin-bottom: 40px;
        }

        .part-card {
            background: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º —Å—Ç–æ—Ä–æ–Ω */
        .image-container {
            aspect-ratio: 4 / 3;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .part-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .thumbnails {
            display: flex;
            gap: 8px;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .thumbnail {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .thumbnail:hover {
            opacity: 1;
            border-color: #e74c3c;
        }

        .part-models {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .model-chip {
            background: #e9ecef;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .price {
            color: #2b8a3e;
            font-weight: bold;
            font-size: 1.2em;
            margin: 10px 0;
        }

        .part-notes {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9em;
            border-radius: 4px;
            color: #856404;
        }

        .reference-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin: 20px 0;
        }

        .reference-section h2 {
            margin-bottom: 15px;
            color: #2b8a3e;
        }

        .engine-card {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .engine-code {
            font-weight: bold;
            color: #e74c3c;
        }

        .engine-models {
            margin-top: 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .engine-model-chip {
            background: #e9ecef;
            padding: 4px 8px;
            border-radius: 16px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <div class="filters">
        <select id="modelSelect">
            <option value="">–í—Å–µ –º–æ–¥–µ–ª–∏</option>
        </select>
        <select id="categorySelect">
            <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
            <option value="–î–≤–∏–≥–∞—Ç–µ–ª—å">–î–≤–∏–≥–∞—Ç–µ–ª—å</option>
            <option value="–¢–æ—Ä–º–æ–∑–∞">–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</option>
            <option value="–ü–µ—Ä–µ–¥–Ω—è—è –ø–æ–¥–≤–µ—Å–∫–∞">–ü–µ—Ä–µ–¥–Ω—è—è –ø–æ–¥–≤–µ—Å–∫–∞</option>
            <option value="–ó–∞–¥–Ω—è—è –ø–æ–¥–≤–µ—Å–∫–∞">–ó–∞–¥–Ω—è—è –ø–æ–¥–≤–µ—Å–∫–∞</option>
            <option value="–°–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è">–°–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è</option>
            <option value="–°—Ü–µ–ø–ª–µ–Ω–∏–µ">–°—Ü–µ–ø–ª–µ–Ω–∏–µ</option>
            <option value="–ö–ü–ü">–ö–ü–ü</option>
            <option value="–¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞">–¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</option>
            <option value="–≠–ª–µ–∫—Ç—Ä–æ—Å–∏—Å—Ç–µ–º–∞">–≠–ª–µ–∫—Ç—Ä–æ—Å–∏—Å—Ç–µ–º–∞</option>
            <option value="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</option>
            <option value="–í—ã—Ö–ª–æ–ø–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞">–í—ã—Ö–ª–æ–ø–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</option>
            <option value="–ö—É–∑–æ–≤">–ö—É–∑–æ–≤</option>
            <option value="–°–∞–ª–æ–Ω">–°–∞–ª–æ–Ω</option>
            <option value="–©–µ—Ç–∫–∏ —Å—Ç–µ–∫–ª–æ–æ–º—ã–≤–∞—Ç–µ–ª—è">–©–µ—Ç–∫–∏ —Å—Ç–µ–∫–ª–æ–æ–º—ã–≤–∞—Ç–µ–ª—è</option>
            <option value="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</option>
            <option value="–ë–æ–ª—Ç—ã –∏ –≥–∞–π–∫–∏">–ë–æ–ª—Ç—ã –∏ –≥–∞–π–∫–∏</option>
        </select>
        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∞—Ä—Ç–∏–∫—É–ª—É...">
    </div>

    <div class="parts-list" id="partsContainer"></div>

    <div class="reference-section">
        <h2>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π –ê–≤—Ç–æ–í–ê–ó</h2>
        <div id="engineReference"></div>
    </div>

    <script>
        // ==================== –î–ê–ù–ù–´–ï ====================
        const database = {
            models: [
                {code: '1111', name: '–û–∫–∞'},
                {code: '2101', name: '–í–ê–ó 2101'},
                {code: '2102', name: '–í–ê–ó 2102'},
                {code: '2103', name: '–í–ê–ó 2103'},
                {code: '2104', name: '–í–ê–ó 2104'},
                {code: '2105', name: '–í–ê–ó 2105'},
                {code: '2106', name: '–í–ê–ó 2106'},
                {code: '2107', name: '–í–ê–ó 2107'},
                {code: '2108', name: '–í–ê–ó 2108'},
                {code: '2109', name: '–í–ê–ó 2109'},
                {code: '21099', name: '–í–ê–ó 21099'},
                {code: '2110', name: '–í–ê–ó 2110'},
                {code: '2111', name: '–í–ê–ó 2111'},
                {code: '2112', name: '–í–ê–ó 2112'},
                {code: '2113', name: '–í–ê–ó 2113'},
                {code: '2114', name: '–í–ê–ó 2114'},
                {code: '2115', name: '–í–ê–ó 2115'},
                {code: '2121', name: '–í–ê–ó 2121 –ù–∏–≤–∞ —Å—Ç–∞—Ä–∞—è'},
                {code: '21213', name: '–í–ê–ó 21213 –∫–∞—Ä–±—é—Ä–∞—Ç–æ—Ä–Ω–∞—è'},
                {code: '21214', name: '–í–ê–ó 21214 –∏–Ω–∂–µ–∫—Ç–æ—Ä–Ω–∞—è'},
                {code: '2131', name: '–í–ê–ó 2131 5-–¥–≤–µ—Ä–∫–∞'},
                {code: '2123', name: '–í–ê–ó 2123 –®–µ–≤—Ä–æ–ª–µ'},
                {code: '1118', name: '–í–ê–ó 1118 –ö–∞–ª–∏–Ω–∞'},
                {code: '2192', name: '–í–ê–ó 2192 –ö–∞–ª–∏–Ω–∞ 2'},
                {code: 'Largus', name: '–õ–∞—Ä–≥—É—Å'},
                {code: '2170', name: '–í–ê–ó 2170 –ü—Ä–∏–æ—Ä–∞'},
                {code: '2180', name: '–í–ê–ó 2180 –í–µ—Å—Ç–∞'},
                {code: '2190', name: 'Lada 2190 Granta'},
                {code: 'XRAY', name: 'XRAY'}
            ],

            // ‚ö†Ô∏è –í–°–¢–ê–í–¨–¢–ï –°–í–û–ô –ú–ê–°–°–ò–í –ó–ê–ü–ß–ê–°–¢–ï–ô –°–Æ–î–ê ‚ö†Ô∏è
            parts: [
                // –ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ —Å –æ–¥–Ω–∏–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
                {
                    name: '–†–µ–º–µ–Ω—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ 2101',
                    article: '2101-1308020',
                    price: 315,
                    image: 'images/f50ce657-2e65-4375-ad63-573ecf9464e4.webp',
                    compatible: ['2101','2102','2103','2104','2105','2106','2107'],
                    category: '–î–≤–∏–≥–∞—Ç–µ–ª—å',
                    notes: '–ê–Ω–∞–ª–æ–≥: Gates 1234, Dayco 5678'
                },
                // –ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
                {
                    name: '–°–≤–µ—á–∏ –∑–∞–∂–∏–≥–∞–Ω–∏—è',
                    article: 'A17DVRM',
                    price: 250,
                    images: [
                        'images/spark1.jpg',
                        'images/spark2.jpg',
                        'images/spark3.jpg'
                    ],
                    compatible: ['2101','2103','2106','2121'],
                    category: '–î–≤–∏–≥–∞—Ç–µ–ª—å',
                    notes: '–ö–æ–º–ø–ª–µ–∫—Ç 4 —à—Ç. –ê–Ω–∞–ª–æ–≥: NGK BPR6ES'
                }
                // ... –¥–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏
            ],

            // –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π
            engines: [
                { code: "2101", name: "1.2 –ª, 64 –ª.—Å., –∫–∞—Ä–±—é—Ä–∞—Ç–æ—Ä", models: ["2101", "2102"] },
                { code: "2103", name: "1.5 –ª, 77 –ª.—Å., –∫–∞—Ä–±—é—Ä–∞—Ç–æ—Ä", models: ["2103", "2106"] },
                { code: "2106", name: "1.6 –ª, 80 –ª.—Å., –∫–∞—Ä–±—é—Ä–∞—Ç–æ—Ä", models: ["2106", "2121"] },
                { code: "2108", name: "1.3 –ª, 69 –ª.—Å., –∫–∞—Ä–±—é—Ä–∞—Ç–æ—Ä", models: ["2108", "2109", "21099"] },
                { code: "2110", name: "1.5 –ª, 78 –ª.—Å., –∏–Ω–∂–µ–∫—Ç–æ—Ä", models: ["2110", "2111", "2112"] },
                { code: "21126", name: "1.6 –ª, 98 –ª.—Å., –∏–Ω–∂–µ–∫—Ç–æ—Ä", models: ["2170", "2190"] },
                { code: "21214", name: "1.7 –ª, 83 –ª.—Å., –∏–Ω–∂–µ–∫—Ç–æ—Ä", models: ["21214", "2131"] }
            ]
        };

        // ==================== –§–£–ù–ö–¶–ò–ò ====================
        function initFilters() {
            const select = document.getElementById('modelSelect');
            database.models.forEach(model => {
                const option = document.createElement('option');
                option.value = model.code;
                option.textContent = model.name;
                select.appendChild(option);
            });
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –∑–∞–ø—á–∞—Å—Ç–µ–π
        function showParts(parts) {
            const container = document.getElementById('partsContainer');
            container.innerHTML = '';

            if (parts.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#666">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>';
                return;
            }

            const fragment = document.createDocumentFragment();

            parts.forEach(part => {
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
                const images = part.images || (part.image ? [part.image] : []);
                const mainImage = images[0] || '';

                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω–∏–∞—Ç—é—Ä (–µ—Å–ª–∏ –∏—Ö –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ)
                let thumbnailsHtml = '';
                if (images.length > 1) {
                    thumbnailsHtml = '<div class="thumbnails">';
                    images.forEach(img => {
                        thumbnailsHtml += `
                            <img src="${img}" 
                                 class="thumbnail" 
                                 loading="lazy"
                                 onclick="this.closest('.part-card').querySelector('.part-image').src='${img}'" 
                                 onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%3E%3Crect%20width%3D%2260%22%20height%3D%2260%22%20fill%3D%22%23f0f0f0%22%2F%3E%3Ctext%20x%3D%2210%22%20y%3D%2235%22%20font-family%3D%22Arial%22%20font-size%3D%2212%22%20fill%3D%22%23999%22%3E%D0%BD%D0%B5%D1%82%20%D1%84%D0%BE%D1%82%D0%BE%3C%2Ftext%3E%3C%2Fsvg%3E'">
                        `;
                    });
                    thumbnailsHtml += '</div>';
                }

                const card = document.createElement('div');
                card.className = 'part-card';
                card.innerHTML = `
                    <div class="image-container">
                        <img src="${mainImage}" 
                             class="part-image" 
                             alt="${part.name}" 
                             loading="lazy"
                             onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22200%22%20height%3D%22150%22%20viewBox%3D%220%200%20200%20150%22%3E%3Crect%20width%3D%22200%22%20height%3D%22150%22%20fill%3D%22%23f0f0f0%22%2F%3E%3Ctext%20x%3D%2235%22%20y%3D%2280%22%20font-family%3D%22Arial%22%20font-size%3D%2216%22%20fill%3D%22%23999%22%3E%D0%BD%D0%B5%D1%82%20%D1%84%D0%BE%D1%82%D0%BE%3C%2Ftext%3E%3C%2Fsvg%3E'">
                    </div>
                    ${thumbnailsHtml}
                    <h3>${part.name}</h3>
                    <p>–ê—Ä—Ç–∏–∫—É–ª: ${part.article}</p>
                    <div class="price">${part.price.toLocaleString('ru-RU')} ‚ÇΩ</div>
                    ${part.notes ? `<div class="part-notes">üìù ${part.notes}</div>` : ''}
                    <div class="compatibility">
                        <p>–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:</p>
                        <div class="part-models">
                            ${part.compatible.map(code => {
                                const model = database.models.find(m => m.code === code);
                                return model ? `<div class="model-chip">${model.name}</div>` : '';
                            }).join('')}
                        </div>
                    </div>
                `;
                fragment.appendChild(card);
            });

            container.appendChild(fragment);
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å debounce (—á—Ç–æ–±—ã –Ω–µ –¥—ë—Ä–≥–∞—Ç—å –Ω–∞ –∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª)
        let filterTimeout;
        function filterParts() {
            clearTimeout(filterTimeout);
            filterTimeout = setTimeout(() => {
                const selectedModel = document.getElementById('modelSelect').value;
                const searchText = document.getElementById('searchInput').value.toLowerCase();
                const selectedCategory = document.getElementById('categorySelect').value;

                const filtered = database.parts.filter(part => {
                    const matchesModel = !selectedModel || part.compatible.includes(selectedModel);
                    const matchesSearch = part.name.toLowerCase().includes(searchText) || 
                                       part.article.toLowerCase().includes(searchText);
                    const matchesCategory = !selectedCategory || part.category === selectedCategory;
                    return matchesModel && matchesSearch && matchesCategory;
                });

                showParts(filtered);
            }, 300); // –∂–¥—ë–º 300 –º—Å –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–≤–æ–¥–∞
        }

        // –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π
        function showEngineReference() {
            const container = document.getElementById('engineReference');
            if (!container) return;
            container.innerHTML = database.engines.map(engine => `
                <div class="engine-card">
                    <div class="engine-code">–î–≤–∏–≥–∞—Ç–µ–ª—å ${engine.code}</div>
                    <div>${engine.name}</div>
                    <div class="engine-models">
                        ${engine.models.map(code => {
                            const model = database.models.find(m => m.code === code);
                            return model ? `<span class="engine-model-chip">${model.name}</span>` : '';
                        }).join('')}
                    </div>
                </div>
            `).join('');
        }

        // ==================== –ó–ê–ü–£–°–ö ====================
        document.addEventListener('DOMContentLoaded', () => {
            initFilters();
            showEngineReference();
            // –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ–º filterParts
            document.getElementById('modelSelect').addEventListener('change', filterParts);
            document.getElementById('searchInput').addEventListener('input', filterParts);
            document.getElementById('categorySelect').addEventListener('change', filterParts);
            filterParts(); // –ø–µ—Ä–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        });
    </script>
</body>
</html>




